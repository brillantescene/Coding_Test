# 2. 쇠막대기
def solution(pipe):
    answer = 0
    stack = []

    for p in pipe:
        if p == '(':
            stack.append(p)
        else:
            if prev == '(':
                stack.pop()
                answer += len(stack)
            else:
                stack.pop()
                answer += 1
        prev = p
    return answer


print(solution('()(((()())(())()))(())'))
print(solution('(((()(()()))(())()))(()())'))
print(solution('(((()(()()))(())()))(()())(((()(()()))(())()))(()())'))
print(solution('(((()(()()))(())()))(()())(((()(()()))(())()))(()())(((()())))(((()(()()))(())()))(()())(((()(()()))(())()))(()())(((()())))(((()(()()))(())()))(()())(((()(()()))(())()))(()())(((()())))(((()(()()))(())()))(()())(((()(()()))(())()))(()())(((()())))(((()(()()))(())()))(()())(((()(()()))(())()))(()())(((()())))(((()(()()))(())()))(()())(((()(()()))(())()))(()())(((()())))'))
